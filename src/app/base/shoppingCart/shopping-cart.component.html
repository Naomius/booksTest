<app-empty-cart *ngIf="!(books$ | async)"
               notFoundMessage="Корзина пустая!"
               resetLinkText="Вернуться на страницу книги">
</app-empty-cart>

<div  class="container" *ngIf="books$ | async">
    <ul>
        <li *ngFor="let book of books$ | async">
            <div>
                <img [src]="book.books.image" [alt]="book.books.title">
            </div>
            <div>
                {{ book.books.title }}
            </div>
            <div>
                {{ book.books.price | currency }}
            </div>
            <div>
                <div class="books-buttons" *ngIf="!(book.count === 0)">
                   <div class="counter">
                       <app-counter [initialText]="'Купить'"
                                    [counterValue]="book.count"
                                    (counterChange)="bookCounterChange$.next({id: book.books.id, count: $event})">
                       </app-counter>
                   </div>
                </div>
            </div>
        </li>
    </ul>

    <div class="checkout">
        <div *ngFor="let countAndPrice of calculateTotals$ | async">
            <div class="books-count">{{ countAndPrice.count }} шт.</div>
            <div class="total-price">{{ countAndPrice.price | currency }}</div>
        </div>
    </div>

</div>

